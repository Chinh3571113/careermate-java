server:
  port: {PORT:8080}
  address: 0.0.0.0
  forward-headers-strategy: framework
spring:
  #  main:
  #    web-application-type: none
  application:
    name: careermate
  datasource:
    url: jdbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}
    username: ${DB_USER_LOCAL}
    password: ${DB_PASSWORD_LOCAL}
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: update
      jdbc:
        time-zone: Asia/Ho_Chi_Minh
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
  security:
    oauth2:
      client:
        registration:
          google:
            client-id: 499458711867-af9f55oshkgfj6m9tanditsps2fdcsri.apps.googleusercontent.com #${GOOGLE_CLIENT_ID}
            client-secret: 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 #${GOOGLE_CLIENT_SECRET}
            scope:
              - profile
              - email




  mail:
    host: smtp.gmail.com
    port: 587
    username: ${EMAIL_NAME:default}
    password: ${EMAIL_PASSWORD:default}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true

  ai:
    openai:
      api-key: ${GOOGLE_API_KEY:default}
      chat:
        base-url: https://generativelanguage.googleapis.com
        completions-path: /v1beta/openai/chat/completions
        options:
          model: gemini-2.0-flash

  # Kafka Configuration
  kafka:
    bootstrap-servers: ${KAFKA_BOOTSTRAP_SERVERS:localhost:9092}
    consumer:
      group-id: careermate-group
      auto-offset-reset: earliest
      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer
      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer
      properties:
        spring.json.trusted.packages: "*"
    producer:
      key-serializer: org.apache.kafka.common.serialization.StringSerializer
      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer
    listener:
      ack-mode: manual
    # Confluent Cloud SASL Configuration
    properties:
      security:
        protocol: ${KAFKA_SECURITY_PROTOCOL:}
      sasl:
        mechanism: ${KAFKA_SASL_MECHANISM:}
        jaas:
          config: org.apache.kafka.common.security.plain.PlainLoginModule required username="${KAFKA_SASL_USERNAME:}" password="${KAFKA_SASL_PASSWORD:}";

jwt:
  signerKey: "1TjXchw5FloESb63Kc+DFhTARvpWL4jUGCwfGWxuG5SIf/1y/LgJxHnMqaF6A/ij"
  valid-duration: 900 # in second
  refreshable-duration: 604800 # in second
  # in seconds

vnpay:
  tmn-code: ${vnp_TmnCode:default}
  secret-key: ${vnp_HashSecret:default}
  pay-url: "https://sandbox.vnpayment.vn/paymentv2/vpcpay.html"
  api-url: "https://sandbox.vnpayment.vn/merchant_webapi/api/transaction"
  return-url: "http://localhost:8080/api/candidate-payment/return"
  recruiter-return-url: "http://localhost:8080/api/recruiter-payment/return"

# Firebase config
firebase:
  project-id: careermate-97d8c
  bucket-name: careermate-97d8c.firebasestorage.app
  credentials:
    path: classpath:firebase-service-account.json


logging:
  level:
    root: INFO
    com:
      fpt:
        careermate: INFO
    org:
      apache:
        http: WARN
        kafka: WARN
      springframework:
        web:
          client:
            RestTemplate: WARN
          http:
            client: WARN
        kafka: WARN
      hibernate: WARN
google:
  api-key: ${GOOGLE_API_KEY:default}
weaviate:
  url: ${WEAVIATE_URL:default}
  api-key: ${WEAVIATE_API_KEY:default}
  vectorizer: text2vec-weaviate
huggingface:
  api-key: ${HUGGINGFACE_API_KEY:default}
  # Model is NOT specified - Weaviate will use its default model (all-MiniLM-L6-v2)
  # through the Weaviate Embeddings Inference API

app:
  seeder:
    roadmap:
      bucket-name: ${BUCKET_NAME:default}
      prefix: ${BUCKET_PREFIX:default}
  swagger:
    server:
      # Leave empty for local development (will use localhost)
      # Set this in production environment:
      url: ${SWAGGER_SERVER_URL:}

# Springdoc OpenAPI Configuration
springdoc:
  api-docs:
    path: /v3/api-docs
    enabled: true
  swagger-ui:
    path: /swagger-ui.html
    # Disable trying to fetch remote config
    disable-swagger-default-url: true
    # Set the base URL to use for API calls
    url: /v3/api-docs
    # Enable forward headers to detect the correct server URL when behind a proxy/load balancer
    use-root-path: false
  # Use forwarded headers (X-Forwarded-Host, X-Forwarded-Proto, X-Forwarded-Port)
  # This is important for Cloud Run and other cloud platforms
  use-fqn: true

